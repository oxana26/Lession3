# Инструкция для работы с Git и удаленными репозиториями

## Что такое Git?
Git - это одна из реализаций распределенных систем контроля версий, имеющая как и локальные, так и удаленные репозитории. Является самой популярной реализацией систем контроля версий в мире.

## Подготовка репозитория
Для создания репозитория необходимо выполнить команду *git init* в папке с репозиторием и у Вас создастся репозиторий (появится скрытая папка .git)

## Создание коммитов

### Git add
Для добавления изменений в коммит используется команда *git add* напишите 
*get add <имя файла>*.
Однако на самом деле команда git add не оказывает существенного влияния на репозиторий: изменения регистрируются в нем только после выполнения команды *git commit*.

### Создание коммитов
Команда *git commit* делает для проекта снимок текущего состояния изменений, добавленных в раздел проиндексированных файлов. Такие подтвержденные снимки состояния можно рассматривать как «безопасные» версии проекта — Git не будет их менять, пока вы явным образом не попросите об этом. Перед выполнением команды *git commit* необходимо использовать команду *git add*, чтобы добавить в проект («проиндексировать») изменения, которые будут сохранены в коммите. Эти две команды, *git commit* и _git add_, используются чаще всего.

#### Распространенные опции
* _git commit_ - Коммит проиндексированного состояния кода. Эта команда откроет текстовый редактор с предложением ввести комментарий к коммиту. После ввода комментария сохраните файл и закройте текстовый редактор, чтобы выполнить коммит
* _git commit **-a**_ - Выполнение коммита состояния со всеми изменениями в рабочем каталоге. Эта команда включает только изменения отслеживаемых файлов (тех, которые были в какой-то момент добавлены в историю с помощью команды git add).
* _git commit **-m** "commit message"_ - Быстрая команда, которая создает коммит с указанным комментарием. По умолчанию команда git commit открывает локально настроенный текстовый редактор с предложением ввести комментарий к коммиту. При передаче параметра -m текстовый редактор не открывается, а используется подставленный комментарий.
* _git commit **-am** "commit message"_ - Команда для опытных пользователей с параметрами -a и -m. Эта комбинация параметров создает коммит всех проиндексированных изменений и добавляет к коммиту подставленный комментарий.
* _git commit **--amend**_ - Этот параметр добавляет команде commit новый уровень функциональности. При передаче этого параметра будет изменен последний коммит. Вместо создания нового коммита проиндексированные изменения будут добавлены в предыдущий коммит. Кроме того, эта команда откроет настроенный текстовый редактор системы с предложением изменить указанный ранее комментарий к коммиту.

###  Просмотр состояния репозитория
Для того, чтобы посмотреть состояние репозитория используется команда *git status*. Для этого необходимо в папке с репозиторием написать _git status_, и Вы увидите были ли изменения в файлах, или их не было.

![Просмотр состояния репозитория][def]

[def]: status.png

## Использование веток
Ветка представляет собой отдельное направление разработки. Ветки выступают в 
качестве абстрактного представления для процесса редактирования/индексации/коммита.
 Можно рассматривать их как способ запросить новый рабочий каталог, раздел 
проиндексированных файлов и историю проекта. Новые коммиты записываются в историю 
текущей ветки, что приводит к образованию развилки в истории проекта.
* #### git branch
Команда git branch позволяет создавать, просматривать, переименовывать и удалять 
ветки. Она не дает возможности переключаться между ветками или выполнять слияние 
разветвленной истории. 
Именно поэтому команда git branch тесно связана с _git checkout_ и _git merge_.
* #### git checkout
Команда git checkout работает с тремя различными объектами: файлами, коммитами и 
ветками. Под переключением также обычно понимают действие, связанное с выполнением
 команды git checkout. В рамках темы «Отмена изменений» мы рассмотрели, каким 
 образом команду git checkout можно использовать для просмотра старых коммитов. 
 В этом документе основное внимание будет уделено операциям переключения на ветки.
* #### git merge
Переключение веток аналогично переключению старых коммитов и файлов, в которых 
рабочий каталог обновляется в соответствии с выбранной веткой/ревизией; вместе с 
тем новые изменения сохраняются в истории проекта, то есть это не просто операция 
чтения.
Слияние используется в Git, чтобы собрать воедино разветвленную историю. Команда 
_git merge_ выполняет слияние отдельных направлений разработки, созданных с помощью
 команды _git branch_, в единую ветку.

Обратите внимание: все приведенные ниже команды выполняют слияние в текущую ветку,
 в то время как целевая ветка остается без изменений. Поэтому команда _git merge_ 
 часто используется в сочетании с командами _git checkout_ (для выбора текущей 
 ветки) и _git branch -d_ (для удаления устаревшей целевой ветки).

## Работа c удаленными репозиториями. 

#### git remote
Команда *git remote* позволяет создавать, просматривать и удалять подключения к другим репозиториям. Удаленные подключения скорее похожи на закладки, чем на прямые ссылки на другие репозитории. Они служат удобными именами, с помощью которых можно сослаться на не очень удобный URL-адрес, а не предоставляют доступ к другому репозиторию в режиме реального времени.

Например, на следующем рисунке изображены два удаленных подключения из вашего репозитория к центральному репозиторию и репозиторию другого разработчика. Вместо того, чтобы ссылаться на них по их полным URL-адресам, вы можете передавать командам Git только ярлыки origin и john.

#### git clone
Копировать внешний репозиторий на свой ПК можно командой _git clone_.
Команда _git clone_ составная: она не только
загружает все изменения, но и пытается слить все ветки на локальном компьютере и в
удаленном репозитории.
#### git pull
Команда _git pull_ используется для извлечения и загрузки содержимого из 
удаленного репозитория и немедленного обновления локального репозитория этим 
содержимым. Слияние удаленных вышестоящих изменений в локальный репозиторий 
— это обычное дело в процессе совместной работы на основе Git. Команда _git pull_
 на самом деле представляет собой комбинацию двух других команд: _git fetch_ и
  _git merge_. На первом этапе _git pull_ выполняется команда _git fetch_, 
  ограниченная локальной веткой, на которую указывает HEAD. Сразу после 
  загрузки содержимого команда git pull выполняет слияние. 
  Для слитого содержимого создается новый коммит, а указатель HEAD обновляется
   и переносится на этот новый коммит.
#### git push
Команда git push используется для выгрузки содержимого локального репозитория 
в удаленный репозиторий. Она позволяет передать коммиты из локального репозитория 
в удаленный. Эта команда симметрична _git fetch_: при извлечении с помощью _fetch_ 
коммиты импортируются в локальные ветки, а при публикации с помощью _push_ 
происходит экспорт в удаленные ветки. Настроить удаленные ветки можно с помощью 
_git remote_. Команда push может перезаписать изменения, поэтому при ее 
использовании следует соблюдать осторожность. Эти проблемы обсуждаются ниже.
#### git fetch
Команда _git fetch_ загружает коммиты, файлы и ссылки из удаленного репозитория в 
ваш локальный репозиторий. Извлеките данные с помощью команды _fetch_, если хотите 
увидеть, над чем работают остальные участники. Эта команда похожа на svn update и
 позволяет увидеть прогресс в центральном репозитории, но при этом не вынуждает 
 вас выполнять слияние изменений с вашим репозиторием. Извлеченное содержимое 
 в Git остается изолированным от имеющихся локальных данных и совершенно не 
 влияет на локальную разработку. Чтобы переключиться на извлеченное содержимое, 
 нужно отдельно выполнить команду git checkout. Таким образом, применение команды 
 _fetch_ позволяет безопасно просмотреть коммиты, перед тем как интегрировать 
 их в локальный репозиторий.

Загрузить содержимое из удаленного репозитория можно с помощью двух
 команд: _git pull_ и _git fetch_. Из этих двух команд _git fetch_ можно считать 
 «безопасным» вариантом. Она загружает удаленное содержимое, но не обновляет 
 рабочее состояние локального репозитория, оставляя текущую работу нетронутой. 
 Команда git pull действует более агрессивно: она загружает удаленное содержимое 
 для активной локальной ветки и сразу выполняет команду git merge, создавая 
 коммит слияния для нового удаленного содержимого. Если у вас есть ожидающие 
 изменения, то возникнут конфликты, и будет запущен процесс разрешения конфликтов
  слияния.

 #### pull request
Углубляемся в контроль версий | Лекция 3
* команда для предложения изменений
* запрос на вливание изменений в репозиторий

В больших компаниях один ответственный за проект создает аккаунт. Другие пользователи дают
команду pull request. Предлагать изменения на GitHub нужно в отдельной ветке. Сначала
пользователь копирует репозиторий на свой компьютер, делает fork репозитория, затем
клонирует версию на своём ПК, создаёт ветку с предлагаемыми изменениями, отправляет
изменения командой push в свой аккаунт на GitHub и даёт команду _pull request_. 

## Как настроить совместную работу
1. Создать аккаунт на GitHub.com
2. Создать локальный репозиторий
3. “Подружить” ваш локальный и удалённый репозитории. 

 _GitHub при создании нового репозитория подскажет, как это можно сделать_

4. Отправить (push) ваш локальный репозиторий в удалённый (на GitHub), при этом, возможно, 
вам нужно будет авторизоваться на удалённом репозитории
5. Провести изменения “с другого компьютера”
6. Выкачать (pull) актуальное состояние из удалённого репозитория


## Как сделать pull request
* Делаем   (ответвление) репозитория fork
* Делаем git clone   версии репозитория СВОЕЙ
* Создаем новую ветку и в НЕЕ вносим свои изменения
* Фиксируем изменения (делаем коммиты)
* Отправляем свою версию в свой GitHub
* На сайте GitHub нажимаем кнопку _pull request_